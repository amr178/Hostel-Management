/*! For license information please see main.29078684.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a(75)},45:function(e,t,a){},71:function(e,t,a){e.exports=a.p+"static/media/student.af14b50a.jpg"},72:function(e,t,a){e.exports=a.p+"static/media/staff.575b5ea5.jpg"},73:function(e,t,a){e.exports=a.p+"static/media/bedroom.f91c675d.jpg"},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),i=a.n(o),c=(a(45),a(5)),l=a(6),s=a(8),u=a(7),h=a(16),m=a(26),d=a.n(m),p=a(11),f=a.n(p),v=function(e){e?f.a.defaults.headers.common.Authorization=e:delete f.a.defaults.headers.common.Authorization},y=f.a.create({baseURL:"https://hostel-management07.herokuapp.com"}),g=function(e){return{type:"SET_CURRENT_USER",payload:e}},b=function(e){return function(t){localStorage.removeItem("jwtToken"),v(!1),t(g({})),e?e.push("/"):window.location.href="/"}},E=a(10),w=a(22),N=a(37),O=a(4),x=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},k={isAuthenticated:!1,user:{}},S={},j={studentData:[],loading:!1},C={roomData:[],loading:!1},L={staffData:[],loading:!1},_=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(O.a)(Object(O.a)({},e),{},{isAuthenticated:!x(t.payload),user:t.payload});case"GET_CURENT_USER":return Object(O.a)(Object(O.a)({},e),{},{user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},studentDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STUDENT_DETAILS":return Object(O.a)(Object(O.a)({},e),{},{studentData:t.payload});case"ENABLE_STUDENT_DETAILS_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case"DISABLE_STUDENT_DETAILS_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!1});default:return e}},roomData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ROOM_ACTION":return Object(O.a)(Object(O.a)({},e),{},{roomData:t.payload});case"ENABLE_ROOM_ACTION_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case"DISABLE_ROOM_ACTION_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!1});default:return e}},staffData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STAFF_DETAILS":return Object(O.a)(Object(O.a)({},e),{},{staffData:t.payload});case"ENABLE_STAFF_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case"DISABLE_STAFF_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!1});default:return e}}}),A=[N.a],D=Object(w.e)(_,{},Object(w.d)(w.a.apply(void 0,A))),T=a(9),R=a(1),I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onLougoutClick=e.onLougoutClick.bind(Object(R.a)(e)),e}return Object(l.a)(a,[{key:"onLougoutClick",value:function(e){e.preventDefault(),this.props.logoutUser(this.props.history)}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{onClick:this.onLougoutClick.bind(this),className:"nav-link",to:"/"},r.a.createElement("img",{className:"rounded-circle",src:a.avatar,alt:a.name,title:"Gravatar Image",style:{width:"30px",marginRight:"5px"}}),""," LogOut"))),o=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link",to:"/register"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link",to:"/login"},"Login")));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(h.b,{className:"navbar-brand",to:"/"},"Hostel-Management"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},t?n:o)))}}]),a}(n.Component),G=Object(E.b)((function(e){return{auth:e.auth}}),{logoutUser:b})(I);function F(){return r.a.createElement("footer",{className:"bg-dark text-white mt-5 pd-4 text-center"},"Copyright \xa9 ",(new Date).getFullYear()," ",r.a.createElement("a",{href:"https://github.com/amr178"},"Amruth Pugal"))}var B=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",{className:"display-3 mb-4"},"Hostel-Management"),r.a.createElement("p",{className:"lead"}),r.a.createElement("hr",null),r.a.createElement(h.b,{to:"/register",className:"btn btn-lg btn-info mr-2"},"Sign Up"),r.a.createElement(h.b,{to:"/login",className:"btn btn-lg btn-light"},"Login"))))))}}]),a}(n.Component),P=Object(E.b)((function(e){return{auth:e.auth}}))(B),U=a(14),M=a(2),Y=a.n(M),W=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={name:"",email:"",password:"",password2:"",errors:{}},e.onChange=e.onChange.bind(Object(R.a)(e)),e.onSubmit=e.onSubmit.bind(Object(R.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,password2:this.state.password2};this.props.registerUser(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"register mid container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Sign Up"),r.a.createElement("p",{className:"lead text-center"},"Create your account"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:Y()("form-control form-control-lg",{"is-invalid":e.name}),placeholder:"User Name",name:"name",value:this.state.name,onChange:this.onChange}),e.name&&r.a.createElement("div",{className:"invalid-feedback"},e.name)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:Y()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:Y()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:Y()("form-control form-control-lg",{"is-invalid":e.password2}),placeholder:"Confirm Password",name:"password2",value:this.state.password2,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password2)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),a}(n.Component),H=Object(E.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){y.post("/api/users/register",e).then((function(e){return t.push("/login")})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(T.g)(W)),V=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(R.a)(e)),e.onSubmit=e.onSubmit.bind(Object(R.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"login mid container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Log In"),r.a.createElement("p",{className:"lead text-center"},"Sign in to your account"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:Y()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:Y()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),a}(n.Component),z=Object(E.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){y.post("api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),v(a);var n=d()(a);t(g(n))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(V),J=a(71),q=a(72),$=a(73),K=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.auth.user;return r.a.createElement("div",{className:"mid container"},r.a.createElement("div",{className:"text-center",style:{fontSize:"25px"}},"Welcome ",e.name,"!"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem"}},r.a.createElement("div",{className:"card hoverable",style:{width:"18rem",hover:"",height:"22rem"}},r.a.createElement("img",{src:J,className:"card-img-top",alt:"Cleaning"}),r.a.createElement("div",{className:"card-body",style:{height:"10rem"}},r.a.createElement("h5",{className:"card-title"},"Student"),r.a.createElement("a",{href:"/student",className:"card-text"},"Add new Student and allot Room or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"18rem",hover:"",height:"22rem"}},r.a.createElement("img",{src:$,className:"card-img-top",alt:"Cleaning"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Room Repair/Cleaning Status"),r.a.createElement("a",{href:"/block"},"Add Room Repair/Cleaning or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"18rem",hover:"",height:"22rem"}},r.a.createElement("img",{src:q,className:"card-img-top",alt:"Cleaning"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Staff Info"),r.a.createElement("a",{href:"/staff"},"Add more Staff or Check their info")))))}}]),a}(n.Component),Q=Object(E.b)((function(e){return{auth:e.auth}}),{getCurrentUser:function(){return function(e){y.post("api/users/current").then((function(t){e({type:"SET_CURRENT_USER",payload:t.data})})).catch((function(t){return e({type:"GET_ERRORS",payload:t.response.data})}))}}})(K),X=a(39),Z=["component","auth"],ee=Object(E.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(X.a)(e,Z);return r.a.createElement(T.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(T.a,{to:"/login"})}}))})),te=a(12),ae=a(21),ne=a.n(ae);function re(){re=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new O(n||[]);return o._invoke=function(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return k()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=E(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=s(e,t,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var u={};function h(){}function m(){}function d(){}var p={};c(p,r,(function(){return this}));var f=Object.getPrototypeOf,v=f&&f(f(x([])));v&&v!==t&&a.call(v,r)&&(p=v);var y=d.prototype=h.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(r,o){function i(){return new t((function(n,i){!function n(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(r,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=d,c(y,"constructor",d),c(d,"constructor",m),m.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new b(l(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,r,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var oe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={findBy:"",val:"",data:{},loading:!1,errors:{}},n.onChange=n.onChange.bind(Object(R.a)(n)),n.onFtechDetails=n.onFtechDetails.bind(Object(R.a)(n)),n.onDelete=n.onDelete.bind(Object(R.a)(n)),n.onStatusChange=n.onStatusChange.bind(Object(R.a)(n)),n}return Object(l.a)(a,[{key:"onChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"onDelete",value:function(){var e=Object(te.a)(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("/api/student",{data:{id:t}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,this.onFtechDetails();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onStatusChange",value:function(){var e=Object(te.a)(re().mark((function e(t,a){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("/api/student/availability",{id:t,isAvailable:!a}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,this.onFtechDetails();case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onFtechDetails",value:function(){var e=Object(te.a)(re().mark((function e(){var t=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),"id"!==this.state.findBy){e.next=6;break}return e.next=4,f.a.get("/api/student/id/".concat(this.state.val)).then((function(e){t.setState({data:e,loading:!1}),console.log(e),e.data.length||alert("Not Found")})).catch((function(e){return console.log(e)}));case 4:e.next=18;break;case 6:if("room"!==this.state.findBy){e.next=11;break}return e.next=9,f.a.get("/api/student/room/".concat(this.state.val)).then((function(e){t.setState({data:e,loading:!1}),console.log(e),e.data.length||alert("Not Found")})).catch((function(e){return console.log(e)}));case 9:e.next=18;break;case 11:if("isAvailable"!==this.state.findBy){e.next=16;break}return e.next=14,f.a.get("/api/student/all").then((function(e){var a=t.state.val;if("absent"===(a=a.trim().toLowerCase()))a=!1;else{if("present"!==a)return t.setState({loading:!1}),alert("Input can be 'absent' or 'present' only!");a=!0}var n=e.data?e.data.filter((function(e){return e.isAvailable===a})):[],r={data:n};t.setState({data:r,loading:!1}),n.length||alert("Not Found")})).catch((function(e){return console.log(e)}));case 14:e.next=18;break;case 16:return this.setState({loading:!1}),e.abrupt("return",alert("Select Room number or Student Id?"));case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBatchSelect",value:function(e){this.props.history.push("/studentdetails/".concat(e))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.errors,o=a.data,i=a.loading;return e=o&&o.data?o.data.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},o.data.indexOf(e)+1),r.a.createElement("td",null,e.name?e.name:"-"),r.a.createElement("td",null,e.email?e.email:"-"),r.a.createElement("td",null,e.id?e.id:"-"),r.a.createElement("td",null,e.block?e.block:"-"),r.a.createElement("td",null,e.room?e.room:"-"),r.a.createElement("td",null,e.gender?e.gender:"-"),r.a.createElement("td",null,e.isAvailable?r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"tooltip","data-placement":"right",title:"Click to Mark Absent",onClick:function(){return t.onStatusChange(e.id,e.isAvailable)}},"Present"):r.a.createElement("button",{type:"button",className:"btn btn-danger","data-toggle":"tooltip","data-placement":"right",title:"Click to Mark Present",onClick:function(){return t.onStatusChange(e.id,e.isAvailable)}},"Absent")),r.a.createElement("td",{style:{cursor:"pointer",color:"#00a4eb"},onClick:function(){return t.onDelete(e.id)}},"Click Me"))})):null,r.a.createElement("div",{className:"mid container"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"B.Tech-2019"),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"CSE & ECE"),r.a.createElement("p",{onClick:function(){return t.onBatchSelect("2019")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"B.Tech-2020"),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"CSE & ECE"),r.a.createElement("p",{onClick:function(){return t.onBatchSelect("2020")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"B.Tech-2021"),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"CSE & ECE"),r.a.createElement("p",{onClick:function(){return t.onBatchSelect("2021")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"B.Tech-2022"),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"CSE & ECE"),r.a.createElement("p",{onClick:function(){return t.onBatchSelect("2022")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info")))),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"find",style:{marginLeft:"14px"}},r.a.createElement("h5",null,"Find By")),r.a.createElement("div",{className:"col-8 input-group-prepend"},r.a.createElement("select",{className:Y()("form-control",{"is-invalid":n.room}),id:"find",onChange:this.onChange,value:this.state.findBy,name:"findBy"},"   ",r.a.createElement("option",{value:"",defaultValue:!0,disabled:!0},"Select"),r.a.createElement("option",{value:"id"},"Student Id"),r.a.createElement("option",{value:"room"},"Room No."),r.a.createElement("option",{value:"isAvailable"},"Absent/Present")),r.a.createElement("input",{type:"text",id:"val",placeholder:"Value",className:Y()("form-control",{"is-invalid":n.room}),onChange:this.onChange,name:"val",value:this.state.val,required:!0}),n.room&&r.a.createElement("div",{className:"invalid-tooltip"},n.room),r.a.createElement("button",{className:"btn btn-primary",style:{fontSize:"12px",width:"200px"},onClick:this.onFtechDetails},"Find Details")),r.a.createElement("div",{style:{marginTop:"50px",overflow:"scroll",maxHeight:800}},i?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ne.a,{type:"bars",color:"#f56f42"})):r.a.createElement("table",{className:"table table-striped table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Block"),r.a.createElement("th",{scope:"col"},"Room No."),r.a.createElement("th",{scope:"col"},"Gender"),r.a.createElement("th",{scope:"col"},"Leave Status"),r.a.createElement("th",{scope:"col"},"Delete?"))),r.a.createElement("tbody",null,e))))}}]),a}(n.Component),ie=function(e){return function(t){t(ce()),y.get("/api/student/batch/".concat(e)).then((function(e){t({type:"GET_STUDENT_DETAILS",payload:e.data}),t(le())})).catch((function(e){t({type:"GET_ERRORS",payload:{}})}))}},ce=function(){return{type:"ENABLE_STUDENT_DETAILS_LOADING"}},le=function(){return{type:"DISABLE_STUDENT_DETAILS_LOADING"}};function se(){se=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new O(n||[]);return o._invoke=function(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return k()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=E(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=s(e,t,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var u={};function h(){}function m(){}function d(){}var p={};c(p,r,(function(){return this}));var f=Object.getPrototypeOf,v=f&&f(f(x([])));v&&v!==t&&a.call(v,r)&&(p=v);var y=d.prototype=h.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(r,o){function i(){return new t((function(n,i){!function n(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(r,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=d,c(y,"constructor",d),c(d,"constructor",m),m.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new b(l(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,r,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var ue=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={batch:n.props.match.params.id,name:"",email:"",id:"",gender:"",room:"",block:"",isAvailable:!0,errors:{}},n.onChange=n.onChange.bind(Object(R.a)(n)),n.onSubmit=n.onSubmit.bind(Object(R.a)(n)),n.onDelete=n.onDelete.bind(Object(R.a)(n)),n.onStatusChange=n.onStatusChange.bind(Object(R.a)(n)),n}return Object(l.a)(a,[{key:"onChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(te.a)(se().mark((function e(t){var a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:this.state.name,email:this.state.email,batch:this.state.batch,id:this.state.id,room:this.state.room,block:this.state.block,gender:this.state.gender},e.next=4,this.props.createStudentDetails(a);case 4:this.setState({name:"",email:"",id:"",gender:"",room:"",block:"",errors:{}});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(te.a)(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("/api/student",{data:{id:t}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,this.props.getStudentDetails(this.props.match.params.id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onStatusChange",value:function(){var e=Object(te.a)(se().mark((function e(t,a){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("/api/student/availability",{id:t,isAvailable:!a}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,this.props.getStudentDetails(this.props.match.params.id);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){var e=Object(te.a)(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getStudentDetails(this.props.match.params.id);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.studentDetails,n=a.studentData,o=a.loading;e=!n.length||o?null:n.length?n.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},n.indexOf(e)+1),r.a.createElement("td",null,e.name?e.name:"-"),r.a.createElement("td",null,e.email?e.email:"-"),r.a.createElement("td",null,e.id?e.id:"-"),r.a.createElement("td",null,e.block?e.block:"-"),r.a.createElement("td",null,e.room?e.room:"-"),r.a.createElement("td",null,e.gender?e.gender:"-"),r.a.createElement("td",null,e.isAvailable?r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"tooltip","data-placement":"right",title:"Click to Mark Absent",onClick:function(){return t.onStatusChange(e.id,e.isAvailable)}},"Present"):r.a.createElement("button",{type:"button",className:"btn btn-danger","data-toggle":"tooltip","data-placement":"right",title:"Click to Mark Present",onClick:function(){return t.onStatusChange(e.id,e.isAvailable)}},"Absent")),r.a.createElement("td",{style:{cursor:"pointer",color:"#00a4eb"},onClick:function(){return t.onDelete(e.id)}},"Click Me"))})):null;var i=this.state.errors;return r.a.createElement("div",{className:"mid container"},r.a.createElement("h1",null,this.state.batch),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",placeholder:"Name",className:Y()("form-control",{"is-invalid":i.name}),onChange:this.onChange,name:"name",value:this.state.name}),i.name&&r.a.createElement("div",{className:"invalid-tooltip"},i.name)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",className:Y()("form-control",{"is-invalid":i.email}),onChange:this.onChange,name:"email",value:this.state.email}),i.email&&r.a.createElement("div",{className:"invalid-tooltip"},i.email)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"id"},"ID"),r.a.createElement("input",{type:"number",id:"id",placeholder:"ID",className:Y()("form-control",{"is-invalid":i.id}),onChange:this.onChange,name:"id",value:this.state.id}),i.id&&r.a.createElement("div",{className:"invalid-tooltip"},i.id)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"block"},"Block"),r.a.createElement("input",{type:"text",id:"block",placeholder:"Block",className:Y()("form-control",{"is-invalid":i.block}),onChange:this.onChange,name:"block",value:this.state.block}),i.block&&r.a.createElement("div",{className:"invalid-tooltip"},i.block)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"room"},"Room No."),r.a.createElement("input",{type:"text",id:"room",placeholder:"Room No.",className:Y()("form-control",{"is-invalid":i.room}),onChange:this.onChange,name:"room",value:this.state.room}),i.room&&r.a.createElement("div",{className:"invalid-tooltip"},i.room)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"gen"},"Gender"),r.a.createElement("select",{className:Y()("form-control",{"is-invalid":i.gender}),id:"gen",onChange:this.onChange,value:this.state.gender,name:"gender"},"   ",r.a.createElement("option",{value:"",defaultValue:!0,disabled:!0},"Select Gender"),r.a.createElement("option",{value:"FEMALE"},"FEMALE"),r.a.createElement("option",{value:"MALE"},"MALE")),i.gender&&r.a.createElement("div",{className:"invalid-tooltip"},i.gender)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",style:{verticalAlign:"-39px"},className:"btn btn-primary"},"Add")))),r.a.createElement("div",{style:{marginTop:"50px",overflow:"scroll",maxHeight:800}},o?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ne.a,{type:"bars",color:"#f56f42"})):r.a.createElement("table",{className:"table table-striped table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Block"),r.a.createElement("th",{scope:"col"},"Room No."),r.a.createElement("th",{scope:"col"},"Gender"),r.a.createElement("th",{scope:"col"},"Leave Status"),r.a.createElement("th",{scope:"col"},"Delete?"))),r.a.createElement("tbody",null,e))))}}]),a}(n.Component),he=Object(E.b)((function(e){return{errors:e.errors,studentDetails:e.studentDetails}}),{createStudentDetails:function(e){return function(t){y.post("/api/student",e).then((function(a){t({type:"GET_STUDENT_DETAILS",payload:a.data}),console.log(a),t(ie(e.batch))})).catch((function(e){t({type:"GET_ERRORS",payload:e.response.data}),e.response.data.error?alert(e.response.data.error):console.log(e)}))}},getStudentDetails:ie})(ue),me=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"onBatchSelect",value:function(e){this.props.history.push("/room/".concat(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mid container"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Block A"),r.a.createElement("p",{onClick:function(){return e.onBatchSelect("A")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Block B"),r.a.createElement("p",{onClick:function(){return e.onBatchSelect("B")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Block C"),r.a.createElement("p",{onClick:function(){return e.onBatchSelect("C")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info"))),r.a.createElement("div",{className:"card",style:{width:"12rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Block D"),r.a.createElement("p",{onClick:function(){return e.onBatchSelect("D")},className:"card-text",style:{cursor:"pointer",color:"#00a4eb"}},"Add or Check Info")))))}}]),a}(n.Component),de=function(e){return function(t){t(pe()),y.get("/api/room/block/".concat(e)).then((function(e){t({type:"GET_ROOM_ACTION",payload:e.data}),t(fe())})).catch((function(e){t({type:"GET_ERRORS",payload:{}})}))}},pe=function(){return{type:"ENABLE_ROOM_ACTION_LOADING"}},fe=function(){return{type:"DISABLE_ROOM_ACTION_LOADING"}};function ve(){ve=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new O(n||[]);return o._invoke=function(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return k()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=E(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=s(e,t,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var u={};function h(){}function m(){}function d(){}var p={};c(p,r,(function(){return this}));var f=Object.getPrototypeOf,v=f&&f(f(x([])));v&&v!==t&&a.call(v,r)&&(p=v);var y=d.prototype=h.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(r,o){function i(){return new t((function(n,i){!function n(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(r,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=d,c(y,"constructor",d),c(d,"constructor",m),m.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new b(l(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,r,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var ye=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={block:n.props.match.params.id,id:"",type:"",incharge:"",time:"",gender:"",errors:{}},n.onChange=n.onChange.bind(Object(R.a)(n)),n.onSubmit=n.onSubmit.bind(Object(R.a)(n)),n.onDelete=n.onDelete.bind(Object(R.a)(n)),n}return Object(l.a)(a,[{key:"onChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"onDelete",value:function(){var e=Object(te.a)(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("/api/room/".concat(t)).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,this.props.getRoomAction(this.props.match.params.id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(te.a)(ve().mark((function e(t){var a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(this.props.match.params.id),a={type:this.state.type,incharge:this.state.incharge,block:this.state.block,id:this.state.id,gender:this.state.gender,time:this.state.time},console.table(a),e.next=6,this.props.createRoomAction(a);case 6:this.setState({incharge:"",type:"",id:"",gender:"",time:"",errors:{}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){var e=Object(te.a)(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getRoomAction(this.props.match.params.id);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.roomData,n=a.roomData,o=a.loading;e=!n.length||o?null:n.length?n.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},n.indexOf(e)+1),r.a.createElement("td",null,e.id?e.id:"-"),r.a.createElement("td",null,e.type?e.type:"-"),r.a.createElement("td",null,e.time?e.time:"-"),r.a.createElement("td",null,e.incharge?e.incharge:"-"),r.a.createElement("td",null,e.gender?e.gender:"-"),r.a.createElement("td",{style:{cursor:"pointer",color:"#00a4eb"},onClick:function(){return t.onDelete(e._id)}},"Click Me"))})):null;var i=this.state.errors;return r.a.createElement("div",{className:"mid container"},r.a.createElement("h1",null,this.state.block),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"id"},"Room No."),r.a.createElement("input",{type:"text",id:"id",placeholder:"Room No.",className:Y()("form-control",{"is-invalid":i.id}),onChange:this.onChange,name:"id",value:this.state.id}),i.id&&r.a.createElement("div",{className:"invalid-tooltip"},i.id)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"ex2"},"Action"),r.a.createElement("select",{className:Y()("form-control",{"is-invalid":i.type}),id:"ex2",onChange:this.onChange,value:this.state.type,name:"type"},"   ",r.a.createElement("option",{value:"",defaultValue:!0,disabled:!0},"Select"),r.a.createElement("option",{value:"CLEANING"},"Cleaning"),r.a.createElement("option",{value:"REPAIR"},"Repair")),i.type&&r.a.createElement("div",{className:"invalid-tooltip"},i.type)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"time"},"Date and Time"),r.a.createElement("input",{type:"text",id:"time",placeholder:"Date and time?",className:Y()("form-control",{"is-invalid":i.time}),onChange:this.onChange,name:"time",value:this.state.time}),i.time&&r.a.createElement("div",{className:"invalid-tooltip"},i.time)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"incharge"},"Incharge"),r.a.createElement("input",{type:"text",id:"incharge",placeholder:"Incharge Name",className:Y()("form-control",{"is-invalid":i.incharge}),onChange:this.onChange,name:"incharge",value:this.state.incharge}),i.incharge&&r.a.createElement("div",{className:"invalid-tooltip"},i.incharge)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"exampleFormControlSelect1"},"Room Occupancy"),r.a.createElement("select",{className:Y()("form-control",{"is-invalid":i.gender}),id:"exampleFormControlSelect1",onChange:this.onChange,value:this.state.gender,name:"gender"},"   ",r.a.createElement("option",{value:"",defaultValue:!0,disabled:!0},"Select"),r.a.createElement("option",null,"GIRL"),r.a.createElement("option",null,"BOY")),i.gender&&r.a.createElement("div",{className:"invalid-tooltip"},i.gender)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",style:{verticalAlign:"-39px"},className:"btn btn-primary"},"Add")))),r.a.createElement("div",{style:{marginTop:"50px",overflow:"scroll",maxHeight:800}},o?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ne.a,{type:"bars",color:"#f56f42"})):r.a.createElement("table",{className:"table table-striped table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Room No."),r.a.createElement("th",{scope:"col"},"Action"),r.a.createElement("th",{scope:"col"},"Date and Time"),r.a.createElement("th",{scope:"col"},"Incharge"),r.a.createElement("th",{scope:"col"},"Room Occupancy"),r.a.createElement("th",{scope:"col"},"Delete?"))),r.a.createElement("tbody",null,e))))}}]),a}(n.Component),ge=Object(E.b)((function(e){return{errors:e.errors,roomData:e.roomData}}),{createRoomAction:function(e){return function(t){y.post("/api/room/",e).then((function(a){t({type:"GET_ROOM_ACTION",payload:a.data}),t(de(e.block))})).catch((function(e){t({type:"GET_ERRORS",payload:e.response.data}),e.response.data.message?alert(e.response.data.message):console.log(e)}))}},getRoomAction:de})(ye),be=function(){return function(e){e(Ee()),y.get("/api/staff/").then((function(t){e({type:"GET_STAFF_DETAILS",payload:t.data}),e(we())})).catch((function(t){e({type:"GET_ERRORS",payload:t.response.data})}))}},Ee=function(){return{type:"ENABLE_STAFF_LOADING"}},we=function(){return{type:"DISABLE_STAFF_LOADING"}};function Ne(){Ne=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new O(n||[]);return o._invoke=function(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return k()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=E(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=s(e,t,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var u={};function h(){}function m(){}function d(){}var p={};c(p,r,(function(){return this}));var f=Object.getPrototypeOf,v=f&&f(f(x([])));v&&v!==t&&a.call(v,r)&&(p=v);var y=d.prototype=h.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(r,o){function i(){return new t((function(n,i){!function n(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(r,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=d,c(y,"constructor",d),c(d,"constructor",m),m.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new b(l(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,r,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Oe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:"",mobile:"",occupation:"",errors:{}},n.onChange=n.onChange.bind(Object(R.a)(n)),n.onSubmit=n.onSubmit.bind(Object(R.a)(n)),n.onDelete=n.onDelete.bind(Object(R.a)(n)),n.onAvailabilityChange=n.onAvailabilityChange.bind(Object(R.a)(n)),n}return Object(l.a)(a,[{key:"onChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"onDelete",value:function(){var e=Object(te.a)(Ne().mark((function e(t){return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("/api/staff/".concat(t)).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,this.props.getStaffDetails();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAvailabilityChange",value:function(){var e=Object(te.a)(Ne().mark((function e(t,a){return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("/api/staff/availability/".concat(t),{isAvailable:!a}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,this.props.getStaffDetails();case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(te.a)(Ne().mark((function e(t){var a;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={mobile:this.state.mobile,name:this.state.name,occupation:this.state.occupation},console.table(a),e.next=5,this.props.createStaffDetails(a);case 5:this.setState({mobile:"",name:"",occupation:"",errors:{}});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){var e=Object(te.a)(Ne().mark((function e(){return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getStaffDetails();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.staffData,n=a.staffData,o=a.loading;e=!n.length||o?null:n.length?n.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},n.indexOf(e)+1),r.a.createElement("td",null,e.name?e.name:"-"),r.a.createElement("td",null,e.occupation?e.occupation:"-"),r.a.createElement("td",null,e.mobile?e.mobile:"-"),r.a.createElement("td",null,e.isAvailable?r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"tooltip","data-placement":"right",title:"Click to set Unavailable",onClick:function(){return t.onAvailabilityChange(e._id,e.isAvailable)}},"Available"):r.a.createElement("button",{type:"button",className:"btn btn-danger","data-toggle":"tooltip","data-placement":"right",title:"Click to set Available",onClick:function(){return t.onAvailabilityChange(e._id,e.isAvailable)}},"Unavailable")),r.a.createElement("td",{style:{cursor:"pointer",color:"#00a4eb"},onClick:function(){return t.onDelete(e._id)}},"Click Me"))})):null;var i=this.state.errors;return r.a.createElement("div",{className:"mid container"},r.a.createElement("h1",null,this.state.block),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",placeholder:"Name",className:Y()("form-control",{"is-invalid":i.name}),onChange:this.onChange,name:"name",value:this.state.name}),i.name&&r.a.createElement("div",{className:"invalid-tooltip"},i.name)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"occupation"},"Occupation"),r.a.createElement("input",{type:"text",id:"occupation",placeholder:"Occupation",className:Y()("form-control",{"is-invalid":i.occupation}),onChange:this.onChange,name:"occupation",value:this.state.occupation}),i.occupation&&r.a.createElement("div",{className:"invalid-tooltip"},i.occupation)),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"mobile"},"Cellphone Number"),r.a.createElement("input",{type:"number",id:"mobile",placeholder:"Cellphone Number",className:Y()("form-control",{"is-invalid":i.mobile}),onChange:this.onChange,name:"mobile",value:this.state.mobile}),i.mobile&&r.a.createElement("div",{className:"invalid-tooltip"},i.mobile)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",style:{verticalAlign:"-39px"},className:"btn btn-primary"},"Add")))),r.a.createElement("div",{style:{marginTop:"50px",overflow:"scroll",maxHeight:800}},o?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ne.a,{type:"bars",color:"#f56f42"})):r.a.createElement("table",{className:"table table-striped table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Occupation"),r.a.createElement("th",{scope:"col"},"Cellphone Number"),r.a.createElement("th",{scope:"col"},"Available/ Unavailable"),r.a.createElement("th",{scope:"col"},"Delete?"))),r.a.createElement("tbody",null,e))))}}]),a}(n.Component),xe=Object(E.b)((function(e){return{errors:e.errors,staffData:e.staffData}}),{createStaffDetails:function(e){return function(t){y.post("/api/staff/",e).then((function(e){t({type:"GET_STAFF_DETAILS",payload:e.data}),t(be())})).catch((function(e){t({type:"GET_ERRORS",payload:e.response.data})}))}},getStaffDetails:be})(Oe),ke=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(G,null),r.a.createElement(T.d,null,r.a.createElement(T.b,{exact:!0,path:"/",component:P}),r.a.createElement(ee,{exact:!0,path:"/dashboard",component:Q}),r.a.createElement(ee,{exact:!0,path:"/student",component:oe}),r.a.createElement(ee,{exact:!0,path:"/block",component:me}),r.a.createElement(ee,{exact:!0,path:"/room/:id",component:ge}),r.a.createElement(ee,{exact:!0,path:"/staff",component:xe}),r.a.createElement(ee,{exact:!0,path:"/studentdetails/:id",component:he}),r.a.createElement(T.b,{exact:!0,path:"/register",component:H}),r.a.createElement(T.b,{exact:!0,path:"/login",component:z}),r.a.createElement(T.a,{to:"/dashboard"})),r.a.createElement(F,null))}}]),a}(n.Component);a(74);if(localStorage.jwtToken){v(localStorage.jwtToken);var Se=d()(localStorage.jwtToken);D.dispatch(g(Se));var je=Date.now()/1e3;Se.exp<je&&(D.dispatch(b()),window.location.href="/login")}var Ce=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{store:D},r.a.createElement(h.a,null,r.a.createElement(ke,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.29078684.chunk.js.map